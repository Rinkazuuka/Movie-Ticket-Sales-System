{% extends "base_website.html" %}

{% block title %}Strona Główna{% endblock %}

{% block content %}

<div class="container-sm p-4 mb-5 mt-5" style="max-width: 600px;">
    <div class="card p-4">
        <form method="POST">
            <h4 class="card-title mb-3">
                Sprawdź, czy bilet jest ważny
            </h4>

            <div class="form-group mb-3">
                <label for="client-ticket-code">Kod biletu</label>
                <input type="text" class="form-control" id="client-ticket-code" name="client-ticket-code"
                    placeholder="Kod biletu">
            </div>

            <button type="submit" id="login" class="btn btn-primary rounded-3 px-4">Sprawdź</button>
        </form>

        {% if error %}
        <div class="alert alert-danger mt-4" role="alert">
            {{ error }}
        </div>
        {% endif %}

        {% if success %}
        <div class="alert alert-success mt-4" role="alert">
            {{ success }}
        </div>
        <div class="container-flex">
            <div class="row justify-content-between">
                <div class="col-sm">
                    <p class="mb-0 mb-sm-2">Email</p>
                </div>
                <div class="col-sm">
                    <p class="mb-3 mb-sm-2"><strong>{{ reservation.email }}</strong></p>
                </div>
            </div>
            <div class="row justify-content-between">
                <div class="col-sm">
                    <p class="mb-0 mb-sm-2">Imię i nazwisko klienta</p>
                </div>
                <div class="col-sm">
                    <p class="mb-3 mb-sm-2"><strong>{{ reservation.username }}</strong></p>
                </div>
            </div>
            <div class="row justify-content-between">
                <div class="col-sm">
                    <p class="mb-0 mb-sm-2">Tytuł filmu</p>
                </div>
                <div class="col-sm">
                    <p class="mb-3 mb-sm-2"><strong>{{ movie.title }}</strong></p>
                </div>
            </div>
            <div class="row justify-content-between">
                <div class="col-sm">
                    <p class="mb-0 mb-sm-2">Data i godzina seansu</p>
                </div>
                <div class="col-sm">
                    <p class="mb-3 mb-sm-2"><strong>{{ showing.show_time }}</strong></p>
                </div>
            </div>
            <div class="row justify-content-between">
                <div class="col-sm">
                    <p class="mb-0 mb-sm-2">Bilety</p>
                </div>
                <div class="col-sm">
                    {% if tickets %}
                        {% for ticket in tickets %}
                            <p class="mb-3 mb-sm-2"><strong>Rząd {{ ticket.row }}, Miejsce {{ ticket.place }}</strong></p>
                        {% endfor %}
                    {% else %}
                        <p class="mb-3 mb-sm-2"><strong>Nie ma biletów</strong></p>
                    {% endif %}
                </div>
            </div>
            

        </div>
        {% endif %}

    </div>
</div>

{% endblock %}